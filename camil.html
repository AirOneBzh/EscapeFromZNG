<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8"/>
    <title>Enigme de Camil </title>
    <style>
      .warning {
      border: 2px solid #f39389;
      border-radius: 2px;
      padding: 10px;
      position: absolute;
      background-color: #fbd8d4;
      color: #3b3c40;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <form>
        <label>Mot a deviner :
          <input type="password" id="mot" maxlength="27" required="required"/>
        </label>
      </form>
    </div>    
    <script type="text/javascript">
      
      function MotADeviner(evt)
      {
        
        
        var cherche=document.getElementById("mot").value;
        var res="lemotlepluschiantdelunivers";
        
        var code_user=evt.charCode;
        var lettre_user=String.fromCharCode(code_user);
        
        evt.preventDefault();
        est_Majuscule(evt,code_user);

        if(res[cherche.length]==lettre_user)
        {
          document.getElementById("mot").value=cherche+lettre_user;
        }
        
        if(res==document.getElementById("mot").value)
        {
          alert("BRAVO !!");
        }
        
        
        /*Il faut tester la longueur du mot entré et regarder si la lettre correspond*/
        /*Si la lettre correspond on l'ajoute sinon on l'enlève*/

        
      }

////////////////////////////////////////////////////////////////////////////////
      var inputMot = document.getElementById('mot');
      inputMot.addEventListener('keypress', MotADeviner, false);
////////////////////////////////////////////////////////////////////////////////

      function est_Majuscule(mot,lettre)
      {
        if (lettre != 0) {
          if (lettre < 97 || lettre > 122) {
           
            displayWarning(
              "S'il vous plaît veuillez utiliser des miniscules seulement."
                + "\n" + "caractère saisie : " + lettre + "\n"
            );
          }
        }
      }


      var warningTimeout;
      var warningBox= document.createElement("div");
      warningBox.className = "warning";
      
      function displayWarning(msg) {
        warningBox.innerHTML = msg;
        inputMot.parentNode.insertBefore(warningBox, inputMot);
        
        if (warningBox) {
          window.clearTimeout(warningTimeout);
        }
        
        warningTimeout = window.setTimeout(function() {
          warningBox.parentNode.removeChild(warningBox);
          warningTimeout = -1;
        }, 2000);
      }

      
    </script>
  </body>
</html>

